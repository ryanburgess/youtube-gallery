!function(a){"use strict";function b(b,c){var e,f;a.ajax({type:"GET",url:"http://gdata.youtube.com/feeds/api/videos/"+c+"?v=2&alt=json",cache:!1,dataType:"jsonp",success:function(g){e=window.devicePixelRatio>1||window.matchMedia&&window.matchMedia(d).matches?g.entry.media$group.media$thumbnail[1].url:g.entry.media$group.media$thumbnail[0].url,f=g.entry.title.$t,a("."+b).append("<li><a href='https://www.youtube.com/embed/"+c+"'' class='video-thumbnail'><img src='"+e+"' alt='"+f+" Thumbnail' /><span class='icon' lang='en'>Play</span></a></li>")}})}function c(){a(".window").css("top",(a(window).height()-a(".window").height())/2+a(window).scrollTop()+"px").css("left",(a(window).width()-a(".window").width())/2+a(window).scrollLeft()+"px"),a("#mask").css({width:a(window).width(),height:a(document).height()})}var d="(-webkit-min-device-pixel-ratio: 1.5),    (min--moz-device-pixel-ratio: 1.5),    (-o-min-device-pixel-ratio: 3/2),    (min-device-pixel-ratio: 1.5),    (min-resolution: 144dpi),    (min-resolution: 1.5dppx)";a.ajax({type:"POST",url:"video.json",dataType:"json",cache:!1,success:function(c){var d=c.videos,e="";console.log(c);for(var f=0;f<d.length;f++){var g=d[f].section,h=(d[f].video_id,g.toLowerCase());h=h.replace(" ","-");var i=g.charAt(0).toUpperCase()+g.slice(1);e+="<h2>"+i+"</h2>",e+="<ul class='"+h+"'>";for(var j=0;j<d[f].video_id.length;j++){var k=d[f].video_id[j];b(g,k)}e+="</ul>"}a(".videos").html(e)}}),a("body").on("click",".video-thumbnail",function(b){a("<div id='mask'></div>").appendTo("body"),a("#modal-window").remove();var c;if(a(this).attr("href").match("^#")){var d=a(this).attr("href");c=a(d).html()}else c=a(this).attr("href");var e="?hd=1&autoplay=1&showinfo=0";-1!==c.indexOf("youtube.com/embed/")?c="<iframe src='"+c+e+"' allowfullscreen='allowfullscreen'></iframe>":(-1!==c.indexOf("jpg")||-1!==c.indexOf("png"))&&(c="<img src='"+c+"'>"),a("<div id='modal-window' class='window'>"+c+"<a href='#' class='close'>X</a></div>").appendTo("body");var f=a(document).height(),g=a(window).width();return a("#mask").css({width:g,height:f}).show(),a(".window").css("top",(a(window).height()-a(".window").height())/2+a(window).scrollTop()+"px").css("left",(a(window).width()-a(".window").width())/2+a(window).scrollLeft()+"px").fadeIn(),b.preventDefault(),!1});var e=function(){a("#mask, .window").fadeOut(),a(".window iframe").remove(),setTimeout(function(){a("#mask, .window").remove()},500)};a("body").on("click",".window .close",function(a){a.preventDefault(),e()}),a("body").on("click","#mask",function(a){a.preventDefault(),e()}),a(window).bind("resize",c)}(jQuery);